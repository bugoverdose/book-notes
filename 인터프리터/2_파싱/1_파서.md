# 2장 파싱

## 파서

- 파서는 입력으로 텍스트를 받고, **입력을 표현하는 자료구조로 변환**하여 반환.
- 파서 또한 그 자체로 컴파일/인터프리트될 수 있는 **소스코드로 구성**됨.

- `파싱(parsing)`, `구문 분석(syntactic analysis)`이란 입력이 예상되는 구조에 부합하는지 검사하는 분석 작업.

### 비교: JSON 파서

`JSON.parse(~)`: JSON 형식의 문자열을 자바스크립트 객체로 파싱하여 반환. 작업하기 쉬운 구조로 반환.

JSON, YAML, TOML, INI 등의 직렬화 언어의 경우 좀 더 직관적으로 파악하기 쉬운 자료구조로 파싱될 뿐, 파싱의 근본적인 원리는 동일함.

```javascript
const json = '{"result":true, "count":42}'; // 문자열
const obj = JSON.parse(json); // 작업하기 쉬운 형태로 파싱하여 반환

console.log(obj.count); // 42
console.log(obj.result); // true
```

### `추상구문트리(Abstract Syntax Tree)`/`구문트리(Syntax Tree)`

- 인터프리터/컴파일러는 소스코드를 내부적으로 AST 형태의 자료구조로 표현함

  - `추상`: 세미콜론, 줄바꿈, 공백 등 파서가 AST를 구성할 때 도움을 주는 소스코드의 세부 정보가 AST 결과물에서는 생략되기 때문에 추상적이라고 함.

- 다만, 모든 파서가 공통적으로 사용하는 **보편적인 AST 형식은 존재하지 않음.**

  - 프로그래밍 언어가 파싱된 결과물을 공통적으로 AST라고 부르지만, 프로그래밍 언어에 따라 구체적인 구현이 달라짐!

### 파싱 과정

- 파서는 문자열 혹은 토큰의 형태로 소스코드를 입력받고, 소스코드를 표현하는 자료구조를 만들어냄.
- 자료구조를 구축하는 동안 입력이 예상된 구조에 맞는지 검사하는 구문 분석 과정을 거침.
- 토큰을 재귀적으로 파싱하며 AST 인스턴스를 생성.
