## 사례 연구: GGG

온라인 경매 회사 GGG의 아키텍처 카타

- 설명: 온라인 경매 시장을 전국적으로 확대하려는 목적. 고객이 참여할 경매를 선택하고 기다렸다가, 경매가 시작되면 마치 처음부터 경매인과 같은 공간에 있었던 것처럼 입찰 시작.

- 유저: 경매 당 수백~수천명 예상. 동시 경매가 이루어질 수 있음

- 요구사항

  - 경매는 가급적 실시간 처리가 가능해야 함
  - 각 입찰자는 낙찰시 자동 결제할 신용카드를 등록함
  - 각 입찰자는 평판 지수로 추적되어야 함
  - 입찰자는 라이브 동영상 스트림을 시청하면서 발생하는 모든 입찰을 볼 수 있어야 함.
  - 온라인/라이브 입찰 모두 입찰이 일어난 순서대로 접수되어야 함.

- 부가 컨텍스트
  - 해당 법인은 규모가 상대적으로 작은 경쟁사를 인수 합병하여 사세를 키우는 중
  - 예산 제한은 따로 없음. 전략적으로 그렇게 결정됨.
  - 이 회사는 위조 혐의로 고발된 소송에서 이제 막 벗어났음

1. "전국적 확장", "경매 당 수백~수천명 예상. 동시 경매가 이루어질 것", "경매는 가급적 실시간 처리가 가능해야 함"

- 유저 수를 지원하는 `확장성`
- 폭주하는 트래픽을 지원하는 `탄력성`
  - 하나의 경매에 참여한 사용자들이 갈수록 급속도로 요청을 보낼 것이라는 예상! (ex. "1만"=>"2만"=>"3만") => 비즈니스 도메인으로부터 유추되는 암묵적인 아키텍처 특성
- 높은 `성능`

2. "입찰자는 낙찰시 자동 결제할 신용카드를 등록", "이 회사는 위조 혐의로 고발된 소송에서 이제 막 벗어남"

- `보안` - 기본적으로 모든 애플리케이션에 존재하는 암묵적 아키텍처 특성
  - 기본적으로 신용카드 번호를 평문으로 저장하지 않고 데이터를 주고받는 구간에서 암호화 철저히 진행!
  - 과거에 보안 문제가 발생했다는 점에서 어디서 문제가 발생했는지, 보안에 대한 전체적인 점검 필요!

3. "입찰자는 평판 지수로 추적되어야 함"

- 감사성, 로그성
  - anti-trollability(나쁜 의도로 타인을 낚아 이익을 취하지 못하게 하는 것) 같은 요구사항처럼 보일 수도 있지만 아님.

4. "해당 법인은 규모가 상대적으로 작은 경쟁사를 인수 합병하여 사세를 키우는 중"

- 그 자체로 설계에 직접적인 영향을 주지는 않으나, 트레이드오프 비교 과정에서 참고할 수 있는 결정 팩터가 될 수 있음.

5. "예산 제한은 따로 없음. 전략적으로 그렇게 결정됨"

- 해당 아키텍처 가타 해결을 위해 자유롭게 정교하고 목적에 특화된 아키텍처 설계해도 됨.

6. "입찰자는 라이브 동영상 스트림을 시청하면서 발생하는 모든 입찰을 볼 수 있어야 함", "온라인/라이브 입찰 모두 입찰이 일어난 순서대로 접수되어야 함"

- 기본적으로 아키텍처 특성을 시스템 전체적으로 평가하는 것의 한계를 보여주는 아키텍처 난제
- 시스템 레벨보다 더 세분화된 아키텍처 범위가 필요하므로 **아키텍처 퀀텀 레벨에서 아키텍처 특성의 범위 지정**

### 도출된 퀀텀과 아키텍처 특성

- **아키텍트는 아키텍처 퀀텀을 배포, 커플링, 데이터를 둘 장소, 아키텍처 내부 통신 스타일을 생각하는 수단으로써 활용**.
- GGG에서 입찰 스트리밍, 온라인 입찰자, 경매인이라는 세 파트는 서로 아키텍처 특성이 다름.
  - 이처럼 **아키텍처 퀀텀마다 상이한 아키텍처 특성을 분석하여 하이브리드 아키텍처 설계 가능**

1. 입찰자 피드백: 입찰 스트림과 입찰 동영상 스트림을 포함

- 가용성
- 확장성
- 성능

2. 경매인: 라이브 경매인

- 가용성
- 신뢰성
- 확장성
- 탄력성
- 성능
- 보안

3. 입찰자: 온라인 입찰자와 입찰

- 신뢰성
- 가용성
- 확장성
- 탄력성
