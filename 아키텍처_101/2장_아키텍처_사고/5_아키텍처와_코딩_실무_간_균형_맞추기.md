## 5 아키텍처와 코딩 실무 간 균형 맞추기

아키텍트가 극복해야 하는 어려운 일 중 하나는 **코딩 실무와 소프트웨어 아키텍처의 균형을 맞추는 것**. 기본적으로 아키텍트는 어느 정도의 기술 깊이를 유지하여 코딩도 잘할 것을 기대 받음.

### 병목 트랩에 빠지지 말라

코딩 실무와 아키텍처의 균형을 맞추기 위한 조언: "병목 트랩에 빠지지 말라!"

- 병목 트랩(bottleneck trap)은 아키텍트가 프로젝트의 임계 경로(critical path)에 있는 코드(하부를 떠받치는 프레임워크 코드)의 소유권을 가지고 있는 경우 발생함.
- 아키텍트는 풀타임 개발자가 아님. 소스코드를 작성하고 테스트하는 **개발자의 역할**과, 다이어그램을 그리고 수많은 회의에 참석하는 **아키텍트의 역할**의 **균형**을 잘 맞춰야 함.

#### 아키텍트 본인은 비즈니스 기능 개발을 맡자

병목 트랩에 빠지지 않기 위해서는 유능한 아키텍트는 **임계 경로와 프레임워크 코드는 다른 개발팀 사람에게 넘기고**, 본인은 **비즈니스 기능을 코딩하는 작업에 집중**하여 1~3회 이터레이션을 수행하는 것이 오히려 좋음.

장점들

- 아키텍트 본인은 더 이상 팀의 병목점이 되지 않음.
- 프로덕션 코드를 실제로 작성하는 실무 경험을 쌓을 수 있음.
- 임계 경로와 프레임워크 코드를 각기 해당되는 개발팀에 분산시킴으로써 시스템의 가장 어려운 부분을 더 잘 이해할 수 있음.
- 아키텍트 본인이 작업중인 비즈니스 연관 코드를 직접 작성함으로써 **개발자들의 프로세스, 절차, 개발 환경 중 어떤 부분에서 가장 큰 고통을 겪고 있는지 직접 체험 가능.**

#### 아키텍트 본인이 개발팀과 함께 코드 개발을 할 수 없는 경우

당연히 업무 외적으로 집에서도 코딩 연습을 하는 것이 이상적.

다만, 별도로 연습하지 않고도 실무 능력을 유지하는 방법들도 존재함.

#### 1. 개념 증명을 자주 하기

개념 증명(POC; Proof of Concept): 아키텍트가 소스코드를 직접 작성해보면서 구현 상세를 생각하게 됨. 아키텍처 결정을 검증하는 데 유용함.

- 두 가지 캐시 솔루션 중에서 갈등하고 있는 경우, 실제로 각 제품을 응용한 예제 코드를 짜보고 실행 결과를 비교해보는 것. 전체 솔루션을 개발하려면 어느 정도의 공수가 필요한지 가늠 가능하며 확장성, 성능, 종합적인 내고장성 등의 특성 비교 가능.

POC 과정에서 최대한 프로덕션 수준의 고품질 코드를 작성하는 것이 이상적임.

1. 아키텍트가 쓰고 버릴려고 작성한 POC 코드를 다른 사람들이 따라하는 샘플이 되어버릴 수 있음.
2. 처음부터 양질의 코드를 작성하는 습관을 들임으로써 나쁜 코딩 습관 예방 가능.

#### 2. 기술 부채 스토리 및 아키텍처 스토리에 전념하기

개발팀에서는 보다 중요한 유저 스토리 작업에 몰두하도록 하고, 아키텍트 본인은 기술부채에 집중.

우선순위가 낮은 작업을 담당함으로써 아키텍트가 해당 작업을 빨리 끝내지 못하더라도 현재 이터레이션에 영향을 별로 미치지 않도록 하는 것.

#### 3. 버그 잡기

이터레이션을 하면서 버그를 잡음으로써 코딩 실무 유지만이 아니라 코드베이스 및 아키텍처에 존재하는 이슈 및 약점을 발견하는 것.

#### 4. 커맨드라인 도구 및 분석기를 개발하여 개발팀의 업무를 간소화 및 자동화하기

평소에 개발팀이 반복적으로 수행하는 작업이 있는지 살펴보고, 그런 프로세스를 자동화하여 시간을 아껴주는 것.

**자동 소스 검증기(automated source validator)**를 통해 린트, 자동 체크리스트, 수동 코드 리팩터링 태스크에는 없는 **특정 코딩 표준의 준수 여부를 검사**하는데 쓰일 수 있음.

#### 5. 아키텍처의 컴플라이언스 보장을 자동화하기 위한 피트니스 함수 사용

자바 플랫폼에서 ArchUnit으로 자바 코드를 작성해 아키텍처 컴플라이언스 자동화하기

커스텀 피트니스 함수를 만들어 실무 경험도 쌓으면서 아키텍처 컴플라이언스를 보장하기

등등

#### 6. 빈번한 코드 리뷰

아키텍트 본인이 실제로 코딩을 하지 않더라도 소스코드에 관여는 할 수 있음.

코드리뷰를 통해 아키텍처 컴플라이언스를 보장할 수 있으며, 경험이 적은 팀원을 멘토링/코치하는 등 장점이 많음.
